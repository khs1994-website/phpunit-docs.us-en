
<!DOCTYPE HTML>
<html lang="us-en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Annotations · PHPUnit 英文文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-prism/prism-solarizedlight.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="assertions.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://docs.khs1994.com" target="_blank" class="custom-link">Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="annotations.html">
            
                <a href="annotations.html">
            
                    
                    Annotations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="assertions.html">
            
                <a href="assertions.html">
            
                    
                    Assertions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="bibliography.html">
            
                <a href="bibliography.html">
            
                    
                    Bibliography
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="code-coverage-analysis.html">
            
                <a href="code-coverage-analysis.html">
            
                    
                    Code Coverage Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="configuration.html">
            
                <a href="configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="copyright.html">
            
                <a href="copyright.html">
            
                    
                    Copyright
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="extending-phpunit.html">
            
                <a href="extending-phpunit.html">
            
                    
                    Extending Phpunit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="fixtures.html">
            
                <a href="fixtures.html">
            
                    
                    Fixtures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="incomplete-and-skipped-tests.html">
            
                <a href="incomplete-and-skipped-tests.html">
            
                    
                    Incomplete And Skipped Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="installation.html">
            
                <a href="installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="organizing-tests.html">
            
                <a href="organizing-tests.html">
            
                    
                    Organizing Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="risky-tests.html">
            
                <a href="risky-tests.html">
            
                    
                    Risky Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="test-doubles.html">
            
                <a href="test-doubles.html">
            
                    
                    Test Doubles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="textui.html">
            
                <a href="textui.html">
            
                    
                    Textui
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="writing-tests-for-phpunit.html">
            
                <a href="writing-tests-for-phpunit.html">
            
                    
                    Writing Tests For Phpunit
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Annotations</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="annotations">Annotations</h1>
<p>An annotation is a special form of syntactic metadata that can be added
to the source code of some programming languages. While PHP has no
dedicated language feature for annotating source code, the usage of tags
such as <code>@annotation arguments</code> in a documentation block has been
established in the PHP community to annotate source code. In PHP
documentation blocks are reflective: they can be accessed through the
Reflection API&apos;s <code>getDocComment()</code> method on the function, class,
method, and attribute level. Applications such as PHPUnit use this
information at runtime to configure their behaviour.</p>
<p>Note</p>
<p>A doc comment in PHP must start with <code>/**</code> and end with <code>*/</code>.
Annotations in any other style of comment will be ignored.</p>
<p>This appendix shows all the varieties of annotations supported by
PHPUnit.</p>
<h2 id="author">@author</h2>
<p>The <code>@author</code> annotation is an alias for the <code>@group</code> annotation (see
<code>appendixes.annotations.group</code>) and allows to filter tests based on
their authors.</p>
<h2 id="after">@after</h2>
<p>The <code>@after</code> annotation can be used to specify methods that should be
called after each test method in a test case class.</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

final class MyTest extends TestCase
{
    /**
     * @after
     */
    public function tearDownSomeFixtures(): void
    {
        // ...
    }

    /**
     * @after
     */
    public function tearDownSomeOtherFixtures(): void
    {
        // ...
    }
}
</code></pre><h2 id="afterclass">@afterClass</h2>
<p>The <code>@afterClass</code> annotation can be used to specify static methods that
should be called after all test methods in a test class have been run to
clean up shared fixtures.</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

final class MyTest extends TestCase
{
    /**
     * @afterClass
     */
    public static function tearDownSomeSharedFixtures(): void
    {
        // ...
    }

    /**
     * @afterClass
     */
    public static function tearDownSomeOtherSharedFixtures(): void
    {
        // ...
    }
}
</code></pre><h2 id="backupglobals">@backupGlobals</h2>
<p>PHPUnit can optionally backup all global and super-global variables
before each test and restore this backup after each test.</p>
<p>The <code>@backupGlobals enabled</code> annotation can be used on the class level
to enable this operation for all tests of a test case class:</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

/**
 * @backupGlobals enabled
 */
final class MyTest extends TestCase
{
    // ...
}
</code></pre><p>The <code>@backupGlobals</code> annotation can also be used on the test method
level. This allows for a fine-grained configuration of the backup and
restore operations:</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

/**
 * @backupGlobals enabled
 */
final class MyTest extends TestCase
{
    public function testThatInteractsWithGlobalVariables()
    {
        // ...
    }

    /**
     * @backupGlobals disabled
     */
    public function testThatDoesNotInteractWithGlobalVariables(): void
    {
        // ...
    }
}
</code></pre><h2 id="backupstaticattributes">@backupStaticAttributes</h2>
<p>PHPUnit can optionally backup all static attributes in all declared
classes before each test and restore this backup after each test.</p>
<p>The <code>@backupStaticAttributes enabled</code> annotation can be used on the
class level to enable this operation for all tests of a test case class:</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

/**
 * @backupStaticAttributes enabled
 */
final class MyTest extends TestCase
{
    // ...
}
</code></pre><p>The <code>@backupStaticAttributes</code> annotation can also be used on the test
method level. This allows for a fine-grained configuration of the backup
and restore operations:</p>
<pre class="language-"><code>use PHPUnit\Framework\TestCase;

/**
 * @backupStaticAttributes enabled
 */
class MyTest extends TestCase
{
    public function testThatInteractsWithStaticAttributes(): void
    {
        // ...
    }

    /**
     * @backupStaticAttributes disabled
     */
    public function testThatDoesNotInteractWithStaticAttributes(): void
    {
        // ...
    }
}
</code></pre><p>Note</p>
<p><code>@backupStaticAttributes</code> is limited by PHP internals and may cause
unintended static values to persist and leak into subsequent tests in
some circumstances.</p>
<p>See <code>fixtures.global-state</code> for details.</p>
<h2 id="before">@before</h2>
<p>The <code>@before</code> annotation can be used to specify methods that should be
called before each test method in a test case class.</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

final class MyTest extends TestCase
{
    /**
     * @before
     */
    public function setupSomeFixtures(): void
    {
        // ...
    }

    /**
     * @before
     */
    public function setupSomeOtherFixtures(): void
    {
        // ...
    }
}
</code></pre><h2 id="beforeclass">@beforeClass</h2>
<p>The <code>@beforeClass</code> annotation can be used to specify static methods that
should be called before any test methods in a test class are run to set
up shared fixtures.</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

final class MyTest extends TestCase
{
    /**
     * @beforeClass
     */
    public static function setUpSomeSharedFixtures(): void
    {
        // ...
    }

    /**
     * @beforeClass
     */
    public static function setUpSomeOtherSharedFixtures(): void
    {
        // ...
    }
}
</code></pre><h2 id="codecoverageignore">@codeCoverageIgnore*</h2>
<p>The <code>@codeCoverageIgnore</code>, <code>@codeCoverageIgnoreStart</code> and
<code>@codeCoverageIgnoreEnd</code> annotations can be used to exclude lines of
code from the coverage analysis.</p>
<p>For usage see <code>code-coverage-analysis.ignoring-code-blocks</code>.</p>
<h2 id="covers">@covers</h2>
<p>The <code>@covers</code> annotation can be used in the test code to specify which
parts of the code it is supposed to test:</p>
<pre class="language-"><code>/**
 * @covers \BankAccount
 */
public function testBalanceIsInitiallyZero(): void
{
    $this-&gt;assertSame(0, $this-&gt;ba-&gt;getBalance());
}
</code></pre><p>If provided, this effectively filters the code coverage report to
include executed code from the referenced code parts only. This will
make sure that code is only marked as covered if there are dedicated
tests for it, but not if it used indirectly by the tests for a different
class, thus avoiding false positives for code coverage.</p>
<p>This annotation can be added to the docblock of the test class or the
individual test methods. The recommended way is to add the annotation to
the docblock of the test class, not to the docblock of the test methods.</p>
<p>When the <code>forceCoversAnnotation</code> configuration option in the
<code>configuration file <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appendixes.configuration</span><span class="token punctuation">&gt;</span></span></code> is set to <code>true</code>, every
test method needs to have an associated <code>@covers</code> annotation (either on
the test class or the individual test method).</p>
<p><code>appendixes.annotations.covers.tables.annotations</code> shows the syntax of
the <code>@covers</code> annotation. The section
<code>code-coverage-analysis.specifying-covered-parts</code> provides longer
examples for using the annotation.</p>
<p>Please note that this annotation requires a fully-qualified class name
(FQCN). To make this more obvious to the reader, it is recommended to
use a leading backslash (even if this not required for the annotation to
work correctly).</p>
<p>table</p>
<table>
<caption>Annotations for specifying which methods are covered by a test</caption>
<thead>
<tr class="header">
<th>Annotation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>@covers ClassName::methodName</code> (not recommended)</td>
<td>Specifies that the annotated test method covers the specified method.</td>
</tr>
<tr class="even">
<td><code>@covers ClassName</code> (recommended)</td>
<td>Specifies that the annotated test method covers all methods of a given class.</td>
</tr>
<tr class="odd">
<td><code>@covers ClassName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extended</span><span class="token punctuation">&gt;</span></span></code> (not recommended)</td>
<td>Specifies that the annotated test method covers all methods of a given class and its parent class(es).</td>
</tr>
<tr class="even">
<td><code>@covers ClassName::<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>public</span><span class="token punctuation">&gt;</span></span></code> (not recommended)</td>
<td>Specifies that the annotated test method covers all public methods of a given class.</td>
</tr>
<tr class="odd">
<td><code>@covers ClassName::<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>protected</span><span class="token punctuation">&gt;</span></span></code> (not recommended)</td>
<td>Specifies that the annotated test method covers all protected methods of a given class.</td>
</tr>
<tr class="even">
<td><code>@covers ClassName::<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>private</span><span class="token punctuation">&gt;</span></span></code> (not recommended)</td>
<td>Specifies that the annotated test method covers all private methods of a given class.</td>
</tr>
<tr class="odd">
<td><code>@covers ClassName::<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!public</span><span class="token punctuation">&gt;</span></span></code> (not recommended)</td>
<td>Specifies that the annotated test method covers all methods of a given class that are not public.</td>
</tr>
<tr class="even">
<td><code>@covers ClassName::<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!protected</span><span class="token punctuation">&gt;</span></span></code> (not recommended)</td>
<td>Specifies that the annotated test method covers all methods of a given class that are not protected.</td>
</tr>
<tr class="odd">
<td><code>@covers ClassName::<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!private</span><span class="token punctuation">&gt;</span></span></code> (not recommended)</td>
<td>Specifies that the annotated test method covers all methods of a given class that are not private.</td>
</tr>
<tr class="even">
<td><code>@covers ::functionName</code> (recommended)</td>
<td>Specifies that the annotated test method covers the specified global function.</td>
</tr>
</tbody>
</table>

<h2 id="coversdefaultclass">@coversDefaultClass</h2>
<p>The <code>@coversDefaultClass</code> annotation can be used to specify a default
namespace or class name. That way long names don&apos;t need to be repeated
for every <code>@covers</code> annotation. See
<code>appendixes.annotations.examples.CoversDefaultClassTest.php</code>.</p>
<p>Please note that this annotation requires a fully-qualified class name
(FQCN). To make this more obvious to the reader, it is recommended to
use a leading backslash (even if this not required for the annotation to
work correctly).</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

/**
 * @coversDefaultClass \Foo\CoveredClass
 */
final class CoversDefaultClassTest extends TestCase
{
    /**
     * @covers ::publicMethod
     */
    public function testSomething(): void
    {
        $o = new Foo\CoveredClass;
        $o-&gt;publicMethod();
    }
}
</code></pre><h2 id="coversnothing">@coversNothing</h2>
<p>The <code>@coversNothing</code> annotation can be used in the test code to specify
that no code coverage information will be recorded for the annotated
test case.</p>
<p>This can be used for integration testing. See
<code>code-coverage-analysis.specifying-covered-parts.examples.GuestbookIntegrationTest.php</code>
for an example.</p>
<p>The annotation can be used on the class and the method level and will
override any <code>@covers</code> tags.</p>
<h2 id="dataprovider">@dataProvider</h2>
<p>A test method can accept arbitrary arguments. These arguments are to be
provided by one or more data provider methods (<code>provider()</code> in
<code>writing-tests-for-phpunit.data-providers.examples.DataTest.php</code>). The
data provider method to be used is specified using the <code>@dataProvider</code>
annotation.</p>
<p>See <code>writing-tests-for-phpunit.data-providers</code> for more details.</p>
<h2 id="depends">@depends</h2>
<p>PHPUnit supports the declaration of explicit dependencies between test
methods. Such dependencies do not define the order in which the test
methods are to be executed but they allow the returning of an instance
of the test fixture by a producer and passing it to the dependent
consumers. <code>writing-tests-for-phpunit.examples.StackTest2.php</code> shows how
to use the <code>@depends</code> annotation to express dependencies between test
methods.</p>
<p>See <code>writing-tests-for-phpunit.test-dependencies</code> for more details.</p>
<h2 id="doesnotperformassertions">@doesNotPerformAssertions</h2>
<p>Prevents a test that performs no assertions from being considered risky.</p>
<h2 id="group">@group</h2>
<p>A test can be tagged as belonging to one or more groups using the
<code>@group</code> annotation like this</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

final class MyTest extends TestCase
{
    /**
     * @group specification
     */
    public function testSomething(): void
    {
    }

    /**
     * @group regression
     * @group bug2204
     */
    public function testSomethingElse(): void
    {
    }
}
</code></pre><p>The <code>@group</code> annotation can also be provided for the test class. It is
then &quot;inherited&quot; to all test methods of that test class.</p>
<p>Tests can be selected for execution based on groups using the <code>--group</code>
and <code>--exclude-group</code> options of the command-line test runner or using
the respective directives of the XML configuration file.</p>
<h2 id="large">@large</h2>
<p>The <code>@large</code> annotation is an alias for <code>@group large</code>.</p>
<p>If the <code>PHP_Invoker</code> package is installed and strict mode is enabled, a
large test will fail if it takes longer than 60 seconds to execute. This
timeout is configurable via the <code>timeoutForLargeTests</code> attribute in the
XML configuration file.</p>
<h2 id="medium">@medium</h2>
<p>The <code>@medium</code> annotation is an alias for <code>@group medium</code>. A medium test
must not depend on a test marked as <code>@large</code>.</p>
<p>If the <code>PHP_Invoker</code> package is installed and strict mode is enabled, a
medium test will fail if it takes longer than 10 seconds to execute.
This timeout is configurable via the <code>timeoutForMediumTests</code> attribute
in the XML configuration file.</p>
<h2 id="preserveglobalstate">@preserveGlobalState</h2>
<p>When a test is run in a separate process, PHPUnit will attempt to
preserve the global state from the parent process by serializing all
globals in the parent process and unserializing them in the child
process. This can cause problems if the parent process contains globals
that are not serializable. To fix this, you can prevent PHPUnit from
preserving global state with the <code>@preserveGlobalState</code> annotation.</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

final class MyTest extends TestCase
{
    /**
     * @runInSeparateProcess
     * @preserveGlobalState disabled
     */
    public function testInSeparateProcess(): void
    {
        // ...
    }
}
</code></pre><h2 id="requires">@requires</h2>
<p>The <code>@requires</code> annotation can be used to skip tests when common
preconditions, like the PHP Version or installed extensions, are not
met.</p>
<p>A complete list of possibilities and examples can be found at
<code>incomplete-and-skipped-tests.requires.tables.api</code></p>
<h2 id="runtestsinseparateprocesses">@runTestsInSeparateProcesses</h2>
<p>Indicates that all tests in a test class should be run in a separate PHP
process.</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

/**
 * @runTestsInSeparateProcesses
 */
final class MyTest extends TestCase
{
    // ...
}
</code></pre><p><em>Note:</em> By default, PHPUnit will attempt to preserve the global state
from the parent process by serializing all globals in the parent process
and unserializing them in the child process. This can cause problems if
the parent process contains globals that are not serializable. See
<code>appendixes.annotations.preserveGlobalState</code> for information on how to
fix this.</p>
<h2 id="runinseparateprocess">@runInSeparateProcess</h2>
<p>Indicates that a test should be run in a separate PHP process.</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

final class MyTest extends TestCase
{
    /**
     * @runInSeparateProcess
     */
    public function testInSeparateProcess(): void
    {
        // ...
    }
}
</code></pre><p><em>Note:</em> By default, PHPUnit will attempt to preserve the global state
from the parent process by serializing all globals in the parent process
and unserializing them in the child process. This can cause problems if
the parent process contains globals that are not serializable. See
<code>appendixes.annotations.preserveGlobalState</code> for information on how to
fix this.</p>
<h2 id="small">@small</h2>
<p>The <code>@small</code> annotation is an alias for <code>@group small</code>. A small test
must not depend on a test marked as <code>@medium</code> or <code>@large</code>.</p>
<p>If the <code>PHP_Invoker</code> package is installed and strict mode is enabled, a
small test will fail if it takes longer than 1 second to execute. This
timeout is configurable via the <code>timeoutForSmallTests</code> attribute in the
XML configuration file.</p>
<p>Note</p>
<p>Tests need to be explicitly annotated by either <code>@small</code>, <code>@medium</code>, or
<code>@large</code> to enable run time limits.</p>
<h2 id="test">@test</h2>
<p>As an alternative to prefixing your test method names with <code>test</code>, you
can use the <code>@test</code> annotation in a method&apos;s DocBlock to mark it as a
test method.</p>
<pre class="language-"><code>/**
 * @test
 */
public function initialBalanceShouldBe0(): void
{
    $this-&gt;assertSame(0, $this-&gt;ba-&gt;getBalance());
}
</code></pre><h2 id="testdox">@testdox</h2>
<p>Specifies an alternative description used when generating the agile
documentation sentences.</p>
<p>The <code>@testdox</code> annotation can be applied to both test classes and test
methods.</p>
<pre class="language-"><code>&lt;?php declare(strict_types=1);
use PHPUnit\Framework\TestCase;

/**
 * @testdox A bank account
 */
final class BankAccountTest extends TestCase
{
    /**
     * @testdox has an initial balance of zero
     */
    public function balanceIsInitiallyZero(): void
    {
        $this-&gt;assertSame(0, $this-&gt;ba-&gt;getBalance());
    }
}
</code></pre><p>Note</p>
<p>Prior to PHPUnit 7.0 (due to a bug in the annotation parsing), using the
<code>@testdox</code> annotation also activated the behaviour of the <code>@test</code>
annotation.</p>
<p>When using the <code>@testdox</code> annotation at method level with a
<code>@dataProvider</code> you may use the method parameters as placeholders in
your alternative description.</p>
<pre class="language-"><code>/**
 * @dataProvider additionProvider
 * @testdox Adding $a to $b results in $expected
 */
public function testAdd($a, $b, $expected)
{
    $this-&gt;assertSame($expected, $a + $b);
}

public function additionProvider()
{
    return [
        [0, 0, 0],
        [0, 1, 1],
        [1, 0, 1],
        [1, 1, 3]
    ];
}
</code></pre><h2 id="testwith">@testWith</h2>
<p>Instead of implementing a method for use with <code>@dataProvider</code>, you can
define a data set using the <code>@testWith</code> annotation.</p>
<p>A data set consists of one or many elements. To define a data set with
multiple elements, define each element in a separate line. Each element
of the data set must be an array defined in JSON.</p>
<p>See <code>writing-tests-for-phpunit.data-providers</code> to learn more about
passing a set of data to a test.</p>
<pre class="language-"><code>/**
 * @testWith [&quot;test&quot;, 4]
 *           [&quot;longer-string&quot;, 13]
 */
public function testStringLength(string $input, int $expectedLength): void
{
    $this-&gt;assertSame($expectedLength, strlen($input));
}
</code></pre><p>An object representation in JSON will be converted into an associative
array.</p>
<pre class="language-"><code>/**
 * @testWith [{&quot;day&quot;: &quot;monday&quot;, &quot;conditions&quot;: &quot;sunny&quot;}, [&quot;day&quot;, &quot;conditions&quot;]]
 */
public function testArrayKeys(array $array, array $keys): void
{
    $this-&gt;assertSame($keys, array_keys($array));
}
</code></pre><h2 id="ticket">@ticket</h2>
<p>The <code>@ticket</code> annotation is an alias for the <code>@group</code> annotation (see
<code>appendixes.annotations.group</code>) and allows to filter tests based on
their ticket ID.</p>
<h2 id="uses">@uses</h2>
<p>The <code>@uses</code> annotation specifies code which will be executed by a test,
but is not intended to be covered by the test. A good example is a value
object which is necessary for testing a unit of code.</p>
<pre class="language-"><code>/**
 * @covers \BankAccount
 * @uses   \Money
 */
public function testMoneyCanBeDepositedInAccount(): void
{
    // ...
}
</code></pre><p><code>code-coverage-analysis.specifying-covered-parts.examples.InvoiceTest.php</code>
shows another example.</p>
<p>In addition to being helpful for persons reading the code, this
annotation is useful in strict coverage mode where unintentionally
covered code will cause a test to fail. See
<code>risky-tests.unintentionally-covered-code</code> for more information
regarding strict coverage mode.</p>
<p>Please note that this annotation requires a fully-qualified class name
(FQCN). To make this more obvious to the reader, it is recommended to
use a leading backslash (even if this is not required for the annotation
to work correctly).</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="assertions.html" class="navigation navigation-next " aria-label="Next page: Assertions">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Annotations","level":"1.2","depth":1,"next":{"title":"Assertions","level":"1.3","depth":1,"path":"assertions.md","ref":"assertions.md","articles":[]},"previous":{"title":"Introduction","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-highlight","-livereload","prism"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-solarizedlight.css"]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"PHPUnit 英文文档","language":"us-en","links":{"sidebar":{"Home":"https://docs.khs1994.com"}},"gitbook":"*"},"file":{"path":"annotations.md","mtime":"2021-05-20T01:13:25.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-05-20T01:13:58.148Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

